<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ã‚¢ã‚¸èª¿æŸ»ã‚¢ãƒ—ãƒª</title>
    <style>
        body { font-family: sans-serif; text-align: center; padding: 20px; background-color: #f0f8ff; }
        .card { background: white; padding: 20px; border-radius: 10px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); max-width: 400px; margin: 0 auto; }
        button { padding: 10px 20px; font-size: 16px; margin: 5px; cursor: pointer; border: none; border-radius: 5px; }
        .btn-yes { background-color: #ff6b6b; color: white; }
        .btn-no { background-color: #4ecdc4; color: white; }
        .btn-login { background-color: #333; color: white; width: 100%; }
        input { padding: 10px; font-size: 16px; width: 80%; margin-bottom: 10px; }
        ul { list-style: none; padding: 0; text-align: left; margin-top: 20px; border-top: 1px solid #eee; }
        li { padding: 5px 0; border-bottom: 1px dotted #ccc; font-size: 14px; }
        .hidden { display: none; }
    </style>
</head>
<body>

    <div id="loginScreen" class="card">
        <h2>ğŸ”’ ãƒ­ãƒƒã‚¯ã•ã‚Œã¦ã„ã¾ã™</h2>
        <p>ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„(0000)</p>
        <input type="password" id="passInput" placeholder="ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰">
        <button class="btn-login" onclick="checkPass()">é–‹ã</button>
    </div>

    <div id="appScreen" class="card hidden">
        <h2>ğŸŸ è³ªå•</h2>
        <p style="font-size: 1.2em; font-weight: bold;">ã‚¢ã‚¸ãŒå¥½ãã§ã™ã‹ï¼Ÿ</p>
        
        <div>
            <button class="btn-yes" onclick="answer('ã¯ã„')">ã¯ã„ (å¥½ã)</button>
            <button class="btn-no" onclick="answer('ã„ã„ãˆ')">ã„ã„ãˆ</button>
        </div>

        <h3>ğŸ“ å›ç­”å±¥æ­´</h3>
        <button onclick="clearHistory()" style="font-size:10px; background:#ccc;">å±¥æ­´ã‚’æ¶ˆå»</button>
        <ul id="historyList"></ul>
    </div>

    <script>
        // ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ç¢ºèª
        function checkPass() {
            const input = document.getElementById('passInput').value;
            if (input === "0000") {
                document.getElementById('loginScreen').classList.add('hidden');
                document.getElementById('appScreen').classList.remove('hidden');
                loadHistory(); // å±¥æ­´ã‚’èª­ã¿è¾¼ã‚€
            } else {
                alert("ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒé•ã„ã¾ã™");
            }
        }

        // å›ç­”ã‚’ä¿å­˜ã™ã‚‹å‡¦ç†
        function answer(choice) {
            const now = new Date().toLocaleString();
            const data = { choice: choice, time: now };

            // ä»¥å‰ã®ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ï¼ˆãªã‘ã‚Œã°ç©ºã®ãƒªã‚¹ãƒˆï¼‰
            let history = JSON.parse(localStorage.getItem('aji_history')) || [];
            history.unshift(data); // æ–°ã—ã„ã‚‚ã®ã‚’å…ˆé ­ã«è¿½åŠ 

            // ãƒ–ãƒ©ã‚¦ã‚¶ã«ä¿å­˜
            localStorage.setItem('aji_history', JSON.stringify(history));

            alert(`ã€Œ${choice}ã€ã‚’è¨˜éŒ²ã—ã¾ã—ãŸï¼`);
            loadHistory(); // ç”»é¢æ›´æ–°
        }

        // å±¥æ­´ã‚’è¡¨ç¤ºã™ã‚‹å‡¦ç†
        function loadHistory() {
            let history = JSON.parse(localStorage.getItem('aji_history')) || [];
            const list = document.getElementById('historyList');
            list.innerHTML = ""; // ä¸€æ—¦ã‚¯ãƒªã‚¢

            history.forEach(item => {
                const li = document.createElement('li');
                li.textContent = `${item.time} : ${item.choice}`;
                list.appendChild(li);
            });
        }

        // å±¥æ­´å‰Šé™¤ï¼ˆãƒ†ã‚¹ãƒˆç”¨ï¼‰
        function clearHistory() {
            if(confirm('å±¥æ­´ã‚’å…¨ã¦æ¶ˆã—ã¾ã™ã‹ï¼Ÿ')) {
                localStorage.removeItem('aji_history');
                loadHistory();
            }
        }
    </script>
</body>
</html>
